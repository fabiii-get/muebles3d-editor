<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Crónica TV – Live</title>
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <style>
    html,body{margin:0;height:100%;background:#000}
    video{width:100%;height:100%;display:block;background:#000;outline:none}
  </style>
</head>
<body>
  <video id="v" autoplay muted playsinline></video>
  <script>
    const SRC="https://g3.vxral-hor.transport.edge-access.net/a09/ngrp:cronicatv_video1-100044_all/cronicatv_video1-100044_720p.m3u8";
    const video=document.getElementById("v");

    // cargar stream con hls.js (Android/Chrome) o nativo (iOS/Safari)
    if(window.Hls && Hls.isSupported()){
      const hls=new Hls({lowLatencyMode:true});
      hls.loadSource(SRC);
      hls.attachMedia(video);
      hls.on(Hls.Events.MANIFEST_PARSED,()=>{video.play().catch(()=>{});});
    }else if(video.canPlayType("application/vnd.apple.mpegurl")){
      video.src=SRC;
      video.addEventListener("loadedmetadata",()=>{video.play().catch(()=>{});});
    }

    // función para fullscreen
    async function goFS(){
      const el=document.documentElement;
      if(!document.fullscreenElement){
        if(el.requestFullscreen) await el.requestFullscreen();
        else if(el.webkitRequestFullscreen) await el.webkitRequestFullscreen();
      }
    }

    // doble click: activa sonido + fullscreen + play
    document.addEventListener("dblclick", async ()=>{
      try{video.muted=false; video.volume=1.0;}catch(e){}
      await goFS();
      try{await video.play();}catch(e){}
    });
  </script>
</body>
</html>
